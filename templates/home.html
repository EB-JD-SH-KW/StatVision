<!--    Authors:            Eric Bridgens | Joshua Dickens | Sunny He | Kyle Willoughby     -->
<!--    Creation Date:      August 15, 2024                                                 -->
<!--    Project Name:       StatVision                                                      -->

{% extends "base.html" %}

{% load static %}

{% block title %}
Home | StatVision
{% endblock %}


{% block main %}

<h1 class="main-heading">Home</h1>
    <style>
        /* Set the entire page background color to white */
        body {
            background-color: rgb(23, 23, 23);
            margin: 0;
            padding: 0;
            font-family: Arial, sans-serif;
        }

        /* Wrapper should fill the entire screen */
        .wrapper {
            min-height: 100vh;
            display: flex;
            flex-direction: column;
        }

        /* Optional: You can also set a background color for the footer and header, if needed */

        main {
            flex: 1; /* Ensures main content takes up remaining space */
        }
    </style>
    <div class="home">
        <h1 class="main-heading">The Automated Deployment Worked</h1>
        <!-- Conditional Display of Results -->
        {% if results %}
            <div class="results" style="margin-top: 20px; text-align: center; border: 2px solid #4B96E1; padding: 20px; border-radius: 10px; width: 50%; margin-left: auto; margin-right: auto; color: #4B96E1">
                <p>{{ results }}</p>
            </div>

        <!-- Table for Results --> 
        <table style="width: 100%; margin-top: 20px; border-collapse: collapse; text-align: left;">
            <thead>
                <tr style="background-color: #f2f2f2;">
                    <!-- Dynamically generate table headers from the first row's keys -->
                    {% for column in table_result.0.keys %}
                        <th style="padding: 8px; border: 1px solid #ddd;">{{ column }}</th>
                    {% endfor %}
                </tr>
            </thead>
            <tbody>
                <!-- Loop through all rows (dictionaries) in table_result and create table rows -->
                {% for result in table_result %}
                    <tr>
                        {% for key, value in result.items %}
                            <td style="padding: 8px; border: 1px solid #ddd;">{{ value }}</td>
                        {% endfor %}
                    </tr>
                {% endfor %}
            </tbody>
        </table>
        {% endif %}
    </div>
<div class="home">
    <!-- Place Content Here -->
</div>

{% endblock %}
